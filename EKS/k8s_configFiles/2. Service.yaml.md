

```yaml


apiVersion: v1
kind: Service
metadata:
  namespace: game-2048
  name: service-2048
spec:
  ports:
    - port: 80
      targetPort: 80
      protocol: TCP
  type: NodePort
  selector:
    app.kubernetes.io/name: app-2048

```


### üîπ `apiVersion: v1`

This tells Kubernetes the API version you're using to define the object. `v1` is the version for core resources like `Service`.

---

### üîπ `kind: Service`

You're defining a **Service** object, which is used to expose and provide stable access to Pods ‚Äî even if Pods change or restart.

---

### üîπ `metadata`

```
metadata:   
	namespace: game-2048   
	name: service-2048
```

This sets:

- The **namespace** where the Service will live: `game-2048`
- The **name** of the Service: `service-2048`

---

### üîπ `spec`

This is where the behavior of the Service is defined.

#### ‚û§ `ports` block

```yaml

ports:
  - port: 80
    targetPort: 80
    protocol: TCP

```
This means:
- `port: 80` ‚Üí Clients use this port **on the Service** to connect
- `targetPort: 80` ‚Üí The Service will **forward traffic to container port 80** in the selected Pods
Make sure taht the target port is the container node
- `protocol: TCP` ‚Üí Uses TCP as the transport protocol (default)

---

#### ‚û§ `type: NodePort`

This exposes the Service **outside the cluster** by opening a port on **each Node**.

- Kubernetes will pick a port from range `30000‚Äì32767` (unless you specify one)
- You can access the app via `NodeIP:NodePort`
    

Example:  
If your Node's IP is `192.168.99.100` and NodePort is assigned as `30080`, you can access the app via:

`http://192.168.99.100:30080`


---

#### ‚û§ `selector`

```yaml

selector:
  app.kubernetes.io/name: app-2048

```

This tells the Service to **send traffic to Pods** that have this label:

```yaml

app.kubernetes.io/name: app-2048

```

It matches the Pods created by your Deployment (remember the labels in the Pod template).

---

### üîÅ Summary

This Service:

- Lives in `game-2048` namespace
- Exposes `app-2048` Pods to the outside world using `NodePort`
- Forwards external traffic on port 80 (mapped to container port 80)
- Targets only the Pods with label `app.kubernetes.io/name: app-2048`



----



### ‚úÖ **Service** (Kubernetes Component)

- A **Service** is a built-in **Kubernetes component**.
- Its job is to provide a **stable way to access a set of Pods**, even if Pods are created or destroyed.
- It also **load balances** traffic between those Pods.


---

### üìÑ **Service Resource** (YAML File)

- The **Service Resource** is the **YAML configuration file** that tells Kubernetes **how to create and configure a Service**.
    
- It includes:
    
    - **Selectors** to find the target Pods
    - **Ports** for communication
    - The **type** (ClusterIP, NodePort, etc.) to define how it‚Äôs exposed

---

### üîÑ Together:

|Term|Meaning|
|---|---|
|**Service**|The actual **Kubernetes object** that routes traffic to Pods|
|**Service Resource**|The **YAML file** that defines the rules for that Service|

---

So your understanding is absolutely correct:

> ‚úÖ **"Service is a Kubernetes component. Service Resource is a YAML config that defines rules to access the Pods."**




```yaml

apiVersion: v1
kind: Service
metadata:
  name: app-service
spec:
  selector:
    app: my-app
  ports:
    - port: 80 # Exposed by the service (this is what Ingress talks to)
      targetPort: 8080 # Port inside the pod where the app is actually running
  type: ClusterIP       # Default type (internal communication)

```



| Part                         | What it means                                                                                            |
| ---------------------------- | -------------------------------------------------------------------------------------------------------- |
| `apiVersion: v1`             | Using the core v1 API group                                                                              |
| `kind: Service`              | This is a Service object                                                                                 |
| `metadata.name: app-service` | Name of the Service ‚Äî must match what you use in `ingress.yaml` under `backend.service.name`             |
| `selector.app: my-app`       | The Service **selects Pods** with the label `app: my-app` ‚Äî so it knows which Pods to forward traffic to |
| `ports.port: 80`             | The port that the Service itself exposes (Ingress connects here)                                         |
| `ports.targetPort: 8080`     | The actual port **inside the Pods** (container) that handles the traffic                                 |
| `type: ClusterIP`            | This service is internal (default) ‚Äî accessed from within the cluster (like by an Ingress)               |


---

### üîÅ Flow Summary:

1. **User requests**: `http://example.com/app`
2. The **Ingress Controller** checks the rule: path `/app` ‚Üí `app-service`
3. It forwards the request to the **`app-service`**
4. The **Service** sends traffic to one of the matching **Pods**

---


